<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Project Wraith</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    :root{--p:#6366f1;--b:#0f0f1a;--c:#1a1a2e}
    body{font-family:Inter,sans-serif;background:var(--b);color:#e2e8f0;margin:0}
    .container{max-width:1200px;margin:auto;padding:0 1rem}
    .btn{padding:.75rem 1.5rem;border-radius:.5rem;cursor:pointer;font-weight:700}
    .btn-primary{background:var(--p);color:#fff}
    .btn-outline{border:2px solid var(--p);background:transparent;color:var(--p)}
    .card{background:var(--c);border-radius:1rem;padding:1.5rem}
    .ribbon{position:absolute;top:1rem;right:-3rem;transform:rotate(45deg);background:#f59e0b;color:#000;padding:.4rem 3rem;font-size:.8rem}
    .wide{width:100%}
  </style>
</head>
<body>
  <div style="position:fixed;inset:0;background:radial-gradient(circle at 20% 80%,rgba(96,165,250,.05),transparent 50%);z-index:-1"></div>

  <header style="padding:1rem 0;position:sticky;top:0;background:rgba(15,15,26,.9);backdrop-filter:blur(10px);z-index:10">
    <div class="container" style="display:flex;justify-content:space-between;align-items:center">
      <a href="#" style="display:flex;gap:.5rem;align-items:center;color:#fff;text-decoration:none">
        <svg width="36" height="36" viewBox="0 0 36 36"><circle cx="18" cy="18" r="16" fill="none" stroke="#60a5fa" stroke-width="2"/><text x="18" y="24" font-size="20" fill="#6ee7b7" text-anchor="middle" font-weight="800">W</text></svg>
        <span style="font-weight:800;font-size:1.3rem">Project Wraith</span>
      </a>
      <button id="discordBtn" class="btn btn-outline">Connect Discord</button>
    </div>
  </header>

  <main class="container" style="padding:4rem 0">
    <h1 style="font-size:3rem;text-align:center">Donate = Instant Role</h1>
    <p style="text-align:center;font-size:1.2rem;color:#94a3b8">Click Connect → Click Pack → Role appears in 1 sec</p>

    <div style="display:grid;gap:2rem;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));margin-top:3rem">
      <!-- STARTER -->
      <div class="card">
        <h3>Starter Pack – $5</h3>
        <ul style="list-style:none;padding:0">
          <li>✔ Donor chat</li>
          <li>✔ Starter role</li>
          <li>✔ Prioity Support</li>
        </ul>
        <button class="btn btn-outline wide" onclick="buy('Starter')">Get Starter Role</button>
      </div>

      <!-- FOUNDER -->
      <div class="card" style="position:relative">
        <div class="ribbon">POPULAR</div>
        <h3>Founder Pack – $10</h3>
        <ul style="list-style:none;padding:0">
          <li>✔ Everything in Starter</li>
          <li>✔ Gold Founder badge</li>
          <li>✔ Name changes</li>
        </ul>
        <button class="btn btn-primary wide" onclick="buy('Founder')">Get Founder Role</button>
      </div>

      <!-- ULTIMATE -->
      <div class="card">
        <h3>Ultimate Donater – $15</h3>
        <ul style="list-style:none;padding:0">
          <li>✔ Full Locker</li>
          <li>✔ Private VC</li>
          <li>✔ Shoutout every bump</li>
        </ul>
        <button class="btn btn-outline wide" onclick="buy('Ultimate')">Get Ultimate Role</button>
      </div>
    </div>
  </main>

 <script>
  const BOT = "https://3b825c63.wispbyte.com";  // ← change later
  const CLIENT_ID = "1435865601196294204";           // ← YOUR REAL ID
  const REDIRECT = encodeURIComponent(location.href);

  document.getElementById('discordBtn').onclick = () => {
    if (localStorage.discordId) {
      localStorage.clear(); location.reload(); return;
    }
    location.href = `https://discord.com/oauth2/authorize?client_id=1435865601196294204&scope=identify&response_type=token&redirect_uri=${REDIRECT}&prompt=none`;
  };

  if (location.hash.includes('access_token')) {
    const token = location.hash.split('access_token=')[1].split('&')[0];
    fetch('https://discord.com/api/users/@me', {headers:{Authorization:`Bearer ${token}`}})
      .then(r=>r.json())
      .then(u=>{
        localStorage.discordId = u.id;
        localStorage.discordTag = u.username;
        document.getElementById('discordBtn').textContent = `Connected: ${u.username}`;
        document.getElementById('discordBtn').style.background = '#5865F2';
        history.replaceState({},'',location.pathname);
      });
  }
  if (localStorage.discordId) {
    document.getElementById('discordBtn').textContent = `Connected: ${localStorage.discordTag}`;
    document.getElementById('discordBtn').style.background = '#5865F2';
  }

  async function buy(pack) {
    if (!localStorage.discordId) return alert('Connect Discord first!');
    if (!confirm(`Get ${pack} role?`)) return;
    const res = await fetch(`${BOT}/give`, {
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({userId:localStorage.discordId, pack})
    });
    alert(await res.text());
  }
</script>
